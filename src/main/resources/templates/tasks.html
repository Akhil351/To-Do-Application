<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Akhil Tasks</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes nebula {
          0%, 100% { opacity: 1; transform: translateY(0) rotate(0); }
          50% { opacity: 0.7; transform: translateY(-20%) rotate(8deg); }
        }

        @keyframes sparkle {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.3); opacity: 0.7; }
        }

        @keyframes glow {
          0%, 100% { filter: brightness(1) drop-shadow(0 0 20px rgba(147, 51, 234, 0.5)); }
          50% { filter: brightness(1.4) drop-shadow(0 0 40px rgba(147, 51, 234, 0.7)); }
        }

        @keyframes cosmic {
          0%, 100% { transform: scale(1) rotate(0deg); filter: brightness(1); }
          50% { transform: scale(1.3) rotate(180deg); filter: brightness(1.4); }
        }

        @keyframes float {
          0%, 100% { transform: translateY(0) scale(1); }
          50% { transform: translateY(-30px) scale(1.1); }
        }

        @keyframes cosmos {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }

        @keyframes twinkle {
          0%, 100% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.2; transform: scale(0.4); }
        }

        @keyframes shooting-star {
          0% { transform: translateX(0) translateY(0) rotate(45deg); opacity: 1; }
          100% { transform: translateX(200%) translateY(200%) rotate(45deg); opacity: 0; }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-950 via-purple-950 to-slate-950 py-12 px-4 sm:px-6 lg:px-8 relative overflow-hidden">
<!-- Parallax Background Layers -->
<div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1539721972319-f0e80a00d424?w=1600')] opacity-10 bg-cover bg-center animate-[float_40s_ease-in-out_infinite]"></div>
<div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=1600')] opacity-5 bg-cover bg-center animate-[float_30s_ease-in-out_infinite_reverse]"></div>

<!-- Dynamic Star Field -->
<div class="absolute inset-0">
    <div id="cosmic-stars-container" class="absolute inset-0 animate-[cosmos_30s_linear_infinite]"></div>
</div>

<!-- Shooting Stars -->
<div id="shooting-stars-container" class="absolute inset-0"></div>

<!-- Nebula Overlay -->
<div class="absolute inset-0 bg-gradient-to-b from-transparent via-blue-950/30 to-slate-950/80"></div>

<!-- Main Container (Centered and Bigger) -->
<div class="max-w-3xl w-full mx-auto relative">
    <div class="backdrop-blur-3xl bg-white/5 rounded-3xl shadow-[0_0_150px_rgba(147,_51,_234,_0.3)] overflow-hidden border border-violet-500/20">
        <!-- Header -->
        <div class="px-4 sm:px-6 py-6 sm:py-8 bg-gradient-to-r from-blue-950/90 via-violet-950/90 to-slate-950/90 relative overflow-hidden">
            <div class="absolute inset-0">
                <div class="absolute inset-0 animate-[nebula_20s_ease-in-out_infinite]">
                    <div class="absolute inset-0 bg-gradient-to-r from-blue-500/20 via-violet-500/20 to-fuchsia-500/20 blur-3xl transform rotate-12 translate-y-[-50%]"></div>
                    <div class="absolute inset-0 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-violet-500/20 blur-3xl transform -rotate-12 translate-y-[50%]"></div>
                </div>
            </div>
            <div class="relative">
                <div class="flex items-center justify-center gap-3 mb-3">
                    <!-- Comet (Home) Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 sm:h-7 sm:w-7 text-violet-300 animate-[cosmic_4s_ease-in-out_infinite]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V12H9v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9z"></path>
                    </svg>
                    <!-- Title -->
                    <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-violet-300 to-fuchsia-300 animate-[glow_4s_ease-in-out_infinite]">
                        Akhil Tasks
                    </h1>
                    <!-- Star Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 sm:h-7 sm:w-7 text-violet-300 animate-[cosmic_4s_ease-in-out_infinite_0.5s]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <polygon points="12 2 15 9 22 9 17 14 19 21 12 17 5 21 7 14 2 9 9 9 12 2"></polygon>
                    </svg>
                </div>
                <p class="text-center text-violet-200/90 text-sm font-light tracking-wider">
                    Explore the infinite possibilities
                </p>
            </div>
        </div>

        <!-- Add Todo Form -->
        <form action="/task" method="post" class="p-4 sm:p-6 border-b border-violet-500/20 relative">
            <div class="absolute inset-0 bg-gradient-to-r from-blue-500/5 to-violet-500/5 animate-[pulse_4s_ease-in-out_infinite]"></div>
            <div class="relative flex flex-col sm:flex-row gap-3">
                <input type="text" name="title" placeholder="âœ¨ Write your stellar task..." required
                       class="flex-1 px-4 py-3 bg-blue-950/30 border border-violet-500/30 rounded-2xl focus:outline-none focus:ring-2 focus:ring-violet-500/50 focus:border-transparent placeholder-violet-300/50 text-violet-100 shadow-[0_0_30px_rgba(147,_51,_234,_0.2)] transition-all duration-300" />
                <button type="submit"
                        class="bg-gradient-to-r from-blue-600 via-violet-600 to-fuchsia-600 text-white px-6 py-3 rounded-2xl hover:from-blue-500 hover:via-violet-500 hover:to-fuchsia-500 transition-all duration-500 transform hover:scale-105 hover:shadow-[0_0_40px_rgba(147,_51,_234,_0.6)] focus:outline-none focus:ring-2 focus:ring-violet-500/50 flex items-center gap-2 shadow-lg group">
                    <!-- Rocket Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:rotate-45 transition-transform duration-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <path d="M12 2l3 7h7l-5.5 4 2 7L12 17l-7.5 3 2-7L2 9h7l3-7z"></path>
                    </svg>
                    <span class="font-medium">Launch</span>
                </button>
            </div>
        </form>

        <!-- Todo List -->
        <ul class="divide-y divide-violet-500/20">
            <li th:each="todo : ${tasks}" class="p-4 flex items-center justify-between transition-all duration-500 hover:bg-blue-900/30 group relative overflow-hidden"
                th:classappend="${todo.completed} ? 'bg-blue-900/20' : 'bg-transparent'">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-500/5 to-violet-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                <div class="flex items-center gap-3 flex-1 relative">
                    <a th:href="@{/{id}/toggle(id=${todo.id})}"
                       class="focus:outline-none transition-all duration-500 transform hover:scale-110 hover:rotate-180"
                       th:classappend="${todo.completed} ? 'text-emerald-400' : 'text-violet-400 hover:text-violet-300'">
              <span th:if="${todo.completed}">
                <!-- Check Circle Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="10"></circle>
                  <path d="M9 12l2 2l4-4"></path>
                </svg>
              </span>
                        <span th:unless="${todo.completed}">
                <!-- X Circle Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="15" y1="9" x2="9" y2="15"></line>
                  <line x1="9" y1="9" x2="15" y2="15"></line>
                </svg>
              </span>
                    </a>
                    <div class="flex flex-col flex-1">
              <span class="text-violet-100 transition-all duration-500"
                    th:text="${todo.title}"
                    th:classappend="${todo.completed} ? 'line-through text-violet-400/50' : ''"></span>
                        <span class="text-xs text-violet-400/70 flex items-center gap-1">
                <!-- Calendar Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                  <line x1="16" y1="2" x2="16" y2="6"></line>
                  <line x1="8" y1="2" x2="8" y2="6"></line>
                  <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                <span th:text="${#temporals.format(todo.createdAt, 'MMM d, hh:mm a')}"></span>
              </span>
                    </div>
                </div>
                <a th:href="@{/{id}/delete(id=${todo.id})}"
                   class="text-fuchsia-400 hover:text-fuchsia-300 transition-all duration-500 transform hover:scale-110 hover:rotate-90 opacity-0 group-hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-fuchsia-400/50 rounded-full p-1 relative">
                    <!-- Trash Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"></path>
                        <line x1="10" y1="11" x2="10" y2="17"></line>
                        <line x1="14" y1="11" x2="14" y2="17"></line>
                        <path d="M9 6V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"></path>
                    </svg>
                </a>
            </li>
        </ul>

        <!-- Empty State -->
        <div th:if="${tasks.size() == 0}" class="p-8 sm:p-12 text-center relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-blue-500/5 to-violet-500/5 animate-[pulse_4s_ease-in-out_infinite]"></div>
            <div class="relative">
                <div class="flex justify-center mb-4 relative">
                    <div class="absolute inset-0 bg-gradient-to-r from-blue-500/20 via-violet-500/20 to-fuchsia-500/20 blur-xl animate-[pulse_3s_ease-in-out_infinite]"></div>
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 sm:h-14 sm:w-14 text-violet-400 animate-[cosmic_4s_ease-in-out_infinite] relative" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                        <polygon points="5,1 7,5 1,5"></polygon>
                        <polygon points="19,1 21,5 15,5"></polygon>
                        <polygon points="5,23 7,19 1,19"></polygon>
                        <polygon points="19,23 21,19 15,19"></polygon>
                        <polygon points="12,8 13,12 11,12"></polygon>
                    </svg>
                </div>
                <p class="text-lg sm:text-xl font-medium mb-2 text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-violet-300 to-fuchsia-300">
                    Begin Your Stellar Journey
                </p>
                <p class="text-sm text-violet-400/70">Your cosmic adventure awaits</p>
            </div>
        </div>

        <!-- Summary -->
        <div th:if="${tasks.size() > 0}" class="px-4 sm:px-6 py-4 bg-gradient-to-r from-blue-950/60 via-violet-950/60 to-slate-950/60 text-sm backdrop-blur-md relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-blue-500/5 to-violet-500/5 animate-[pulse_4s_ease-in-out_infinite]"></div>
            <div class="relative flex flex-col sm:flex-row items-center justify-between gap-2 sm:gap-4">
                <p class="text-violet-300 font-medium" th:text="${tasks.?[completed].size()} + ' completed'"></p>
                <div class="h-1.5 flex-1 mx-2 sm:mx-4 bg-blue-950/40 rounded-full overflow-hidden shadow-[0_0_20px_rgba(147,_51,_234,_0.3)]">
                    <div class="h-full bg-gradient-to-r from-blue-500 via-violet-500 to-fuchsia-500 transition-all duration-500 animate-[pulse_2s_ease-in-out_infinite]"
                         th:style="|width: ${((tasks.?[completed].size() / tasks.size()) * 100)}%;|">
                    </div>
                </div>
                <p class="text-violet-300 font-medium" th:text="|${tasks.size()} total|"></p>
            </div>
        </div>
    </div>
</div>

<!-- Script to generate dynamic stars and shooting stars -->
<script>
    (function() {
      const starsContainer = document.getElementById('cosmic-stars-container');
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'absolute rounded-full bg-white animate-[twinkle_3s_ease-in-out_infinite]';
        star.style.top = Math.random() * 100 + '%';
        star.style.left = Math.random() * 100 + '%';
        star.style.width = (Math.random() * 3 + 1) + 'px';
        star.style.height = (Math.random() * 3 + 1) + 'px';
        star.style.animationDelay = Math.random() * 3 + 's';
        starsContainer.appendChild(star);
      }

      const shootingStarsContainer = document.getElementById('shooting-stars-container');
      for (let i = 0; i < 5; i++) {
        const shootingStar = document.createElement('div');
        shootingStar.className = 'absolute animate-[shooting-star_3s_linear_infinite]';
        shootingStar.style.top = Math.random() * 50 + '%';
        shootingStar.style.left = '-10%';
        shootingStar.style.width = '100px';
        shootingStar.style.height = '2px';
        shootingStar.style.background = 'linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent)';
        shootingStar.style.animationDelay = Math.random() * 10 + 's';
        shootingStarsContainer.appendChild(shootingStar);
      }
    })();
</script>
</body>
</html>